<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NoxStation</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="data:application/manifest+json,{%22name%22:%22NoxStation%22,%22short_name%22:%22Nox%22,%22start_url%22:%22.%22,%22display%22:%22standalone%22,%22background_color%22:%22%23000000%22,%22theme_color%22:%22%23000000%22,%22icons%22:[{%22src%22:%22https://cdn-icons-png.flaticon.com/512/596/596443.png%22,%22sizes%22:%22512x512%22,%22type%22:%22image/png%22}]} ">

    <style>
        :root { --neon-color: #00f3ff; --bg-dark: rgba(0, 0, 0, 0.9); }
        
        #sleep-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: black; opacity: 0; pointer-events: none; z-index: 9999; transition: 0.5s;
        }

        /* TEMA PANELƒ∞ (MODAL) */
        #theme-modal {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9);
            width: 85%; max-width: 350px; background: #111; border: 2px solid var(--neon-color);
            border-radius: 20px; padding: 20px; z-index: 10000; display: none;
            box-shadow: 0 0 50px rgba(0,0,0,1); transition: 0.3s;
        }
        #theme-modal.active { display: block; transform: translate(-50%, -50%) scale(1); }

        body {
            margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center;
            background: #000; font-family: sans-serif; color: var(--neon-color); overflow: hidden;
        }

        .background-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: url('https://images.unsplash.com/photo-1531306728370-e2ebd9d7bb99?q=80&w=1920') no-repeat center center fixed;
            background-size: cover; filter: brightness(0.2); z-index: 1; 
        }

        .card {
            position: relative; z-index: 2; background: var(--bg-dark); backdrop-filter: blur(15px);
            padding: 20px; border-radius: 20px; border: 1px solid var(--neon-color);
            width: 90%; max-width: 400px; text-align: center; box-shadow: 0 0 25px rgba(0,0,0,0.8);
            max-height: 90vh; overflow-y: auto;
        }

        #clock { font-family: monospace; font-size: 2.2rem; text-shadow: 0 0 15px var(--neon-color); }
        #display-text { color: #eee; min-height: 60px; font-size: 1.1rem; margin: 15px 0; }

        .menu { display: flex; justify-content: center; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
        .neon-btn {
            background: transparent; border: 1px solid var(--neon-color); color: var(--neon-color);
            padding: 8px 10px; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 0.75rem;
        }
        .neon-btn.active { background: var(--neon-color); color: black; }

        .action-btn {
            width: 100%; background: var(--neon-color); color: #000; border: none; padding: 15px;
            font-weight: bold; cursor: pointer; border-radius: 10px; font-size: 1rem;
        }

        #theme-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-top: 15px; }
        .theme-dot { width: 40px; height: 40px; border-radius: 50%; cursor: pointer; border: 2px solid #fff; margin: auto; }

        .extra-tools { display: flex; gap: 10px; margin-top: 15px; }
        .tool-btn { flex: 1; padding: 10px; font-size: 0.75rem; }
        
        .notes-section { border-top: 1px dashed #333; margin-top: 20px; padding-top: 15px; }
        #note-input { width: 70%; background: #111; border: 1px solid #444; color: white; padding: 10px; border-radius: 5px; }
        ul { list-style: none; padding: 0; text-align: left; max-height: 120px; overflow-y: auto; margin-top: 10px; }
        li { background: rgba(255,255,255,0.05); padding: 8px; margin-top: 5px; border-left: 3px solid var(--neon-color); display: flex; justify-content: space-between; font-size: 0.85rem; }
    </style>
</head>
<body>

<div id="sleep-overlay"></div>
<div id="theme-modal">
    <h3 style="margin-top:0;">Tema Se√ßin</h3>
    <div id="theme-grid"></div>
    <button class="neon-btn" style="width:100%; margin-top:20px;" onclick="toggleThemeModal()">KAPAT</button>
</div>

<div class="background-overlay"></div>

<div class="card">
    <div id="clock">00:00:00</div>
    <h1 style="font-size: 1rem;">NOXSTATION üåô</h1>

    <div class="menu">
        <button class="neon-btn" id="btn-soguk" onclick="changeCategory('soguk')">‚ùÑÔ∏è Soƒüuk Espiriler</button>
        <button class="neon-btn" id="btn-bilgi" onclick="changeCategory('bilgi')">üí° Garip Bilgi</button>
        <button class="neon-btn" id="btn-motivasyon" onclick="changeCategory('motivasyon')">üî• Motivasyon</button>
    </div>

    <div id="display-text">Y√ºkleniyor...</div>
    <button class="action-btn" onclick="showContent()">SIRADAKƒ∞Nƒ∞ GETƒ∞R</button>

    <div class="extra-tools">
        <button class="neon-btn tool-btn" onclick="toggleThemeModal()">üé® TEMA DEƒûƒ∞≈ûTƒ∞R</button>
        <button id="sleep-btn" class="neon-btn tool-btn" onclick="toggleSleep()">üò¥ UYKU: KAPALI</button>
    </div>

    <div class="extra-tools" style="margin-top: 10px;">
        <button id="play-pause" class="neon-btn tool-btn" style="flex:2;">üåßÔ∏è SESƒ∞ A√á/KAPAT</button>
    </div>

    <div class="notes-section">
        <input type="text" id="note-input" placeholder="Not yaz...">
        <button class="neon-btn" onclick="addNote()">EKLE</button>
        <ul id="notes-list"></ul>
    </div>
</div>

<audio id="rain-sound" loop><source src="https://www.soundjay.com/nature/rain-01.mp3" type="audio/mpeg"></audio>

<script>
    const database = {
        soguk: ["Adamƒ±n biri g√ºlm√º≈ü, saksƒ±ya dikmi≈üler.", "Hangi kalem yazƒ± yazmaz? Kontrol kalemi.", "Sinemada on dakika ara dedi, aradƒ±m aradƒ±m a√ßmadƒ±.", "R√∂ntgen filmi √ßektirdik, yakƒ±nda sinemalarda!", "Ge√ßen g√ºn taksi √ßevirdim, hala d√∂n√ºyor.", "Ben kamyonu s√ºr√ºyordum, Leonardo da Vinci.", "En acƒ± on nedir? Biberon.", "Yƒ±kanan tona ne denir? Washington.", "Almanya'da Almanlar ya≈üƒ±yorsa, Sakarya'da sakarlar mƒ± ya≈üƒ±yor?", "Seni g√∂r√ºnce g√∂zlerim dolar, kulaklarƒ±m mark.", "D√ºnya d√∂nermi≈ü, ay da k√∂fte.", "Canƒ± sƒ±kƒ±lan bebek ne yapar? Gev≈üer.", "Masada hangi √∂rt√º kullanƒ±lmaz? Bitki √∂rt√ºs√º."],
        bilgi: ["Bal asla bozulmayan tek gƒ±dadƒ±r.", "Ahtapotlarƒ±n √º√ß tane kalbi vardƒ±r.", "Z√ºrafalarƒ±n ses telleri yoktur.", "Karƒ±ncalar 12 saatte sadece 8 dakika dinlenir.", "Su aygƒ±rƒ± s√ºt√º pembe renklidir.", "ƒ∞nsan v√ºcudundaki en g√º√ßl√º kas dildir.", "Muzlar hafif√ße radyasyon yayar.", "Timsahlar dillerini dƒ±≈üarƒ± √ßƒ±karamazlar.", "Kediler tatlƒ± tadƒ±nƒ± alamazlar.", "Everest her yƒ±l 4mm uzar.", "Uzayda aƒülarsanƒ±z g√∂zya≈ülarƒ±nƒ±z yere d√º≈ümez."],
        motivasyon: ["Ba≈ülamak i√ßin m√ºkemmel olmayƒ± bekleme.", "Yarƒ±n bug√ºn yapmadƒ±klarƒ±n i√ßin pi≈üman olma!", "En karanlƒ±k gece, g√ºne≈üe en yakƒ±n olandƒ±r.", "Ba≈üarƒ± bir yolculuktur, varƒ±≈ü noktasƒ± deƒüil.", "Vazge√ßmediƒüin s√ºrece yenilmi≈ü sayƒ±lmazsƒ±n.", "Uyku ka√ßtƒ±ysa √ºretmek i√ßin en iyi zamandƒ±r.", "Zorluklar ba≈üarƒ±nƒ±n deƒüerini artƒ±ran s√ºslerdir."]
    };

    let currentCategory = 'soguk';
    let sleepActive = false;

    function showContent() {
        const items = database[currentCategory];
        document.getElementById('display-text').innerText = items[Math.floor(Math.random() * items.length)];
    }

    function changeCategory(cat) {
        currentCategory = cat;
        document.querySelectorAll('.menu .neon-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + cat).classList.add('active');
        showContent();
    }

    function toggleSleep() {
        sleepActive = !sleepActive;
        const overlay = document.getElementById('sleep-overlay');
        const btn = document.getElementById('sleep-btn');
        overlay.style.opacity = sleepActive ? "0.8" : "0";
        btn.innerText = sleepActive ? "üò¥ UYKU: A√áIK" : "üò¥ UYKU: KAPALI";
    }

    function toggleThemeModal() {
        document.getElementById('theme-modal').classList.toggle('active');
    }

    // 20 RENKLƒ∞ TEMA Sƒ∞STEMƒ∞
    const neonColors = [
        "#00f3ff", "#ff0055", "#00ff41", "#ffe600", "#be00ff", 
        "#ffffff", "#ffaa00", "#0088ff", "#ff5500", "#00ffcc",
        "#ff00ff", "#aaff00", "#00bbff", "#ffcc00", "#ff3333",
        "#33ff33", "#3333ff", "#ffff33", "#888888", "#44ffaa"
    ];
    const grid = document.getElementById('theme-grid');
    neonColors.forEach(color => {
        const dot = document.createElement('div');
        dot.className = 'theme-dot';
        dot.style.backgroundColor = color;
        dot.onclick = () => {
            document.documentElement.style.setProperty('--neon-color', color);
            localStorage.setItem('nightTheme', color);
            toggleThemeModal();
        };
        grid.appendChild(dot);
    });

    const rain = document.getElementById('rain-sound');
    const playBtn = document.getElementById('play-pause');
    playBtn.onclick = () => {
        if (rain.paused) { rain.play(); playBtn.style.background = "var(--neon-color)"; playBtn.style.color = "black"; }
        else { rain.pause(); playBtn.style.background = "transparent"; playBtn.style.color = "var(--neon-color)"; }
    };

    let myNotes = JSON.parse(localStorage.getItem('nightNotes')) || [];
    function renderNotes() {
        const list = document.getElementById('notes-list');
        list.innerHTML = myNotes.map((n, i) => `<li>${n} <span onclick="deleteNote(${i})" style="color:#ff0055; cursor:pointer; font-weight:bold;">‚úï</span></li>`).join('');
    }
    function addNote() {
        const input = document.getElementById('note-input');
        if (input.value.trim()) { 
            myNotes.push(input.value); 
            localStorage.setItem('nightNotes', JSON.stringify(myNotes)); 
            input.value = ""; renderNotes(); 
        }
    }
    function deleteNote(i) { myNotes.splice(i, 1); localStorage.setItem('nightNotes', JSON.stringify(myNotes)); renderNotes(); }

    window.onload = () => {
        renderNotes(); changeCategory('soguk');
        const savedTheme = localStorage.getItem('nightTheme');
        if (savedTheme) document.documentElement.style.setProperty('--neon-color', savedTheme);
        setInterval(() => document.getElementById('clock').innerText = new Date().toLocaleTimeString(), 1000);
    };
</script>
</body>
</html>
